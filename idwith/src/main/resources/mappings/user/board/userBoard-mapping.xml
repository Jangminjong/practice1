<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="UserDAO">
 	<resultMap type="userVO" id="userResult">
 		<result property="user_id" column="user_id"/>
 		<result property="user_pwd" column="user_pwd"/>
 		<result property="user_name" column="user_name"/>
 		<result property="user_phone" column="user_phone"/>
 		<result property="user_zipcode" column="user_zipcode"/>
 		<result property="user_address1" column="user_address1"/>
 		<result property="user_address2" column="user_address2"/>
 		<result property="user_recommender" column="user_recommender"/>
 		<result property="user_grade" column="user_grade"/>
 		<result property="user_allmcount" column="user_allmcount"/>
 		<result property="user_joinDate" column="user_joinDate"/>
 		<result property="user_class_sellyn" column="user_class_sellyn"/>
 		<result property="user_option_zipcode" column="user_option_zipcode"/>
 		<result property="user_option_addr1" column="user_option_addr1"/>
 		<result property="user_option_addr2" column="user_option_addr2"/>
 	</resultMap>
 	<insert id="insertUser" parameterType="userVO">
 		INSERT INTO client (user_id, user_pwd, user_name, user_phone)
 		VALUES(#{user_id}, #{user_pwd}, #{user_name}, #{user_phone})
 	</insert>
 	<insert id="insertKakao" parameterType="userVO">
 		INSERT INTO client (user_id, user_pwd)
 		VALUES(#{user_id}, #{user_pwd})
 	</insert>
 	<select id="selectEmail" resultType="_int">
 		SELECT count(*) FROM client WHERE user_id=#{user_id}
 	</select>
 	<select id="selectCellPhone" resultType="_int">
 		SELECT count(*) FROM client WHERE user_phone=#{user_phone}
 	</select>
 	<select id="selectLogin" resultType="userVO">
 		select user_id, user_pwd from client where user_id=#{user_id}
 	</select>
 	<select id="userCheck" resultType="_boolean">
 		select exists (select * from client where user_phone=#{user_phone}) as isChk;
 	</select>
 	<select id="getUserList" resultType="map">
 		select user_id from client where user_phone=#{user_phone}
 	</select>
 	<select id="getUserNameList" resultType="map">
 		select user_name from client where user_id=#{user_id}
 	</select>
 	
 	<select id="getUserInfo" resultType="map">
 		select user_name from client where user_name=#{user_name}
 	</select>
 	<!--  <update id="updateBoard" parameterType="myboard">
 		UPDATE myboard
 		SET title=#{title}, content=#{content} WHERE seq = #{seq}
 	</update>
 	<delete id="deleteBoard" parameterType="myboard">
 		DELETE FROM myboard WHERE seq=#{seq}
 	</delete>
 	<select id="getBoard" resultType="myboard">
 		SELECT * FROM myboard WHERE seq=#{seq}
 	</select>
 	<select id="getBoardList" resultMap="boardResult">
 		SELECT * FROM myboard
 		WHERE 1=1 
 		<if test="searchCondition=='TITLE'">
 			AND title LIKE '%'||#{searchKeyword}||'%'
 		</if>
 		<if test="searchCondition=='CONTENT'">
 			AND content LIKE '%'||#{searchKeyword}||'%'
 		</if>
 		ORDER BY seq DESC
 	</select>
 	<select id="getBoardList_C" resultMap="boardResult">
 		SELECT * FROM myboard
 		WHERE content LIKE '%'||#{searchKeyword}||'%'
 		ORDER BY seq DESC
 	</select>--> 
</mapper>